<configuration>
  <runtimeAssembly>
    <fileSets>
      <fileSet>
        <directory>lib</directory>
        <artifacts>
          <artifact>org.apache.maven:maven-embedder</artifact>
          <artifact>org.apache.maven.wagon:wagon-file</artifact>
          <artifact>org.sonatype.aether:aether-connector-file</artifact>
        </artifacts>
        <excludes>
          <exclude>org.codehaus.plexus:plexus-classworlds</exclude>
          <exclude>org.slf4j:slf4j-api</exclude>
        </excludes>
        <fileSets>
          <fileSet>
            <directory>mvnsh</directory>
            <artifacts>
              <artifact>org.eclipse.tesla.shell:tesla-shell-personality</artifact>
              <artifact>org.eclipse.tesla.shell:tesla-shell-maven</artifact>
              <artifact>org.eclipse.tesla.shell.ext:tesla-shell-gossip</artifact>
              <artifact>org.eclipse.tesla.shell.ext:tesla-shell-plexus</artifact>
              <artifact>org.eclipse.tesla.shell.commands:tesla-shell-logging</artifact>
              <artifact>org.eclipse.tesla.shell.commands:tesla-shell-network</artifact>
              <artifact>org.eclipse.tesla.shell.commands:tesla-shell-pref</artifact>
              <artifact>org.eclipse.tesla.shell.commands:tesla-shell-standard</artifact>
              <artifact>org.eclipse.tesla.shell.commands:tesla-shell-file</artifact>
            </artifacts>
            <excludes>
              <exclude>org.sonatype.gossip:gossip-bootstrap</exclude>
              <exclude>org.sonatype.gossip:gossip-core</exclude>
              <exclude>org.sonatype.gossip:gossip-slf4j</exclude>
            </excludes>
          </fileSet>
          <fileSet>
            <directory>ext</directory>
            <artifacts>
              <artifact>org.sonatype.maven:wagon-ahc</artifact>
              <artifact>org.sonatype.aether:aether-connector-asynchttpclient</artifact>
              <artifact>org.sonatype.gossip:gossip-bootstrap</artifact>
              <artifact>org.sonatype.gossip:gossip-core</artifact>
              <artifact>org.sonatype.gossip:gossip-slf4j</artifact>
              <artifact>org.slf4j:slf4j-api</artifact>
            </artifacts>
          </fileSet>
        </fileSets>
      </fileSet>
      <fileSet>
        <directory>boot</directory>
        <artifacts>
          <artifact>org.codehaus.plexus:plexus-classworlds</artifact>
        </artifacts>
      </fileSet>
    </fileSets>
  </runtimeAssembly>
</configuration>